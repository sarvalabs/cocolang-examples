syntax: 1
engine:
  kind: PISA
  flags: []
  version: 0.5.0
kind: asset
elements:
- ptr: 0
  kind: literal
  data:
    type: string
    value: '0x064d4f49'
- ptr: 1
  kind: literal
  data:
    type: u64
    value: '0x0302'
- ptr: 2
  kind: literal
  data:
    type: u64
    value: '0x032710'
- ptr: 3
  kind: literal
  data:
    type: string
    value: '0x065472616e73666572'
- ptr: 4
  kind: literal
  data:
    type: string
    value: '0x065472616e7366657246726f6d'
- ptr: 5
  kind: literal
  data:
    type: string
    value: '0x064d696e74'
- ptr: 6
  kind: literal
  data:
    type: string
    value: '0x064275726e'
- ptr: 7
  kind: literal
  data:
    type: string
    value: '0x064c6f636b7570'
- ptr: 8
  kind: literal
  data:
    type: string
    value: '0x0652656c65617365'
- ptr: 9
  kind: literal
  data:
    type: string
    value: '0x06417070726f7665'
- ptr: 10
  kind: literal
  data:
    type: string
    value: '0x065265766f6b65'
- ptr: 11
  kind: event
  data:
    name: AssetEvent
    topics: 1
    fields:
    - slot: 0
      label: operation
      type: string
    - slot: 1
      label: operator
      type: identifier
    - slot: 2
      label: benefactor
      type: identifier
    - slot: 3
      label: beneficiary
      type: identifier
    - slot: 4
      label: amount
      type: u256
    - slot: 5
      label: expires_at
      type: u64
- ptr: 12
  deps:
  - 0
  - 1
  - 2
  kind: callable
  data:
    name: DefineAsset
    mode: static
    kind: invoke
    accepts: []
    returns: []
    executes:
      asm:
      - CARGS $0
      - LDPTR1 $1 0x0
      - LMAKE $1 $1
      - LDPTR1 $2 0x1
      - LMAKE $2 $2
      - ORIGIN $3
      - LDPTR1 $4 0x2
      - LMAKE $4 $4
      - CARGS $5
      - CALLM $4 $4 &13 $5
      - GETFLD $5 $4 &0
      - PMAKE $4 &1
      - NOT $4 $4
      - SETFLD $0 &0 $1
      - SETFLD $0 &1 $2
      - SETFLD $0 &2 $3
      - SETFLD $0 &3 $5
      - SETFLD $0 &4 $4
      - ASSET $1
      - CALLM $0 $1 &0 $0
    catches: []
- ptr: 13
  deps:
  - 3
  - 11
  kind: callable
  data:
    name: Transfer
    mode: static
    kind: invoke
    accepts:
    - slot: 0
      label: beneficiary
      type: identifier
    - slot: 1
      label: amount
      type: u256
    returns: []
    executes:
      asm:
      - CARGS $0
      - ASSET $1
      - CALLM $0 $1 &17 $0
      - GETFLD $0 $0 &0
      - NOT $0 $0
      - LDPTR1 $2 0x18
      - JUMPI $2 $0
      - CARGS $0
      - LDPTR1 $2 0x3
      - LMAKE $2 $2
      - SETFLD $0 &0 $2
      - ORIGIN $2
      - SETFLD $0 &1 $2
      - ORIGIN $2
      - SETFLD $0 &2 $2
      - OBTAIN $2 &0
      - SETFLD $0 &3 $2
      - OBTAIN $2 &1
      - SETFLD $0 &4 $2
      - LDPTR1 $2 0xb
      - EVMAKE $0 $2 $0
      - LOGIC $2
      - ID $2 $2
      - EMIT $2 $0
      - DEST
      - CARGS $0
      - PMAKE $2 &5
      - OBTAIN $3 &0
      - OBTAIN $4 &1
      - SETFLD $0 &0 $2
      - SETFLD $0 &2 $3
      - SETFLD $0 &3 $4
      - CALLM $0 $1 &1 $0
    catches: []
- ptr: 14
  deps:
  - 4
  - 11
  kind: callable
  data:
    name: TransferFrom
    mode: static
    kind: invoke
    accepts:
    - slot: 0
      label: benefactor
      type: identifier
    - slot: 1
      label: beneficiary
      type: identifier
    - slot: 2
      label: amount
      type: u256
    returns: []
    executes:
      asm:
      - CARGS $0
      - ASSET $1
      - CALLM $0 $1 &17 $0
      - GETFLD $0 $0 &0
      - NOT $0 $0
      - LDPTR1 $2 0x18
      - JUMPI $2 $0
      - CARGS $0
      - LDPTR1 $2 0x4
      - LMAKE $2 $2
      - SETFLD $0 &0 $2
      - ORIGIN $2
      - SETFLD $0 &1 $2
      - OBTAIN $2 &0
      - SETFLD $0 &2 $2
      - OBTAIN $2 &1
      - SETFLD $0 &3 $2
      - OBTAIN $2 &2
      - SETFLD $0 &4 $2
      - LDPTR1 $2 0xb
      - EVMAKE $0 $2 $0
      - LOGIC $2
      - ID $2 $2
      - EMIT $2 $0
      - DEST
      - CARGS $0
      - PMAKE $2 &5
      - OBTAIN $3 &0
      - OBTAIN $4 &1
      - OBTAIN $5 &2
      - SETFLD $0 &0 $2
      - SETFLD $0 &1 $3
      - SETFLD $0 &2 $4
      - SETFLD $0 &3 $5
      - CALLM $0 $1 &1 $0
    catches: []
- ptr: 15
  deps:
  - 5
  - 11
  kind: callable
  data:
    name: Mint
    mode: static
    kind: invoke
    accepts:
    - slot: 0
      label: beneficiary
      type: identifier
    - slot: 1
      label: amount
      type: u256
    returns: []
    executes:
      asm:
      - CARGS $0
      - ASSET $1
      - CALLM $0 $1 &17 $0
      - GETFLD $0 $0 &0
      - NOT $0 $0
      - LDPTR1 $2 0x16
      - JUMPI $2 $0
      - CARGS $0
      - LDPTR1 $2 0x5
      - LMAKE $2 $2
      - SETFLD $0 &0 $2
      - ORIGIN $2
      - SETFLD $0 &1 $2
      - OBTAIN $2 &0
      - SETFLD $0 &3 $2
      - OBTAIN $2 &1
      - SETFLD $0 &4 $2
      - LDPTR1 $2 0xb
      - EVMAKE $0 $2 $0
      - LOGIC $2
      - ID $2 $2
      - EMIT $2 $0
      - DEST
      - CARGS $0
      - PMAKE $2 &5
      - OBTAIN $3 &0
      - OBTAIN $4 &1
      - SETFLD $0 &0 $2
      - SETFLD $0 &1 $3
      - SETFLD $0 &2 $4
      - CALLM $0 $1 &2 $0
    catches: []
- ptr: 16
  deps:
  - 6
  - 11
  kind: callable
  data:
    name: Burn
    mode: static
    kind: invoke
    accepts:
    - slot: 0
      label: amount
      type: u256
    returns: []
    executes:
      asm:
      - CARGS $0
      - ASSET $1
      - CALLM $0 $1 &17 $0
      - GETFLD $0 $0 &0
      - NOT $0 $0
      - LDPTR1 $2 0x16
      - JUMPI $2 $0
      - CARGS $0
      - LDPTR1 $2 0x6
      - LMAKE $2 $2
      - SETFLD $0 &0 $2
      - ORIGIN $2
      - SETFLD $0 &1 $2
      - ORIGIN $2
      - SETFLD $0 &2 $2
      - OBTAIN $2 &0
      - SETFLD $0 &4 $2
      - LDPTR1 $2 0xb
      - EVMAKE $0 $2 $0
      - LOGIC $2
      - ID $2 $2
      - EMIT $2 $0
      - DEST
      - CARGS $0
      - PMAKE $2 &5
      - OBTAIN $3 &0
      - SETFLD $0 &0 $2
      - SETFLD $0 &1 $3
      - CALLM $0 $1 &3 $0
    catches: []
- ptr: 17
  deps:
  - 7
  - 11
  kind: callable
  data:
    name: Lockup
    mode: static
    kind: invoke
    accepts:
    - slot: 0
      label: beneficiary
      type: identifier
    - slot: 1
      label: amount
      type: u256
    returns: []
    executes:
      asm:
      - CARGS $0
      - ASSET $1
      - CALLM $0 $1 &17 $0
      - GETFLD $0 $0 &0
      - NOT $0 $0
      - LDPTR1 $2 0x18
      - JUMPI $2 $0
      - CARGS $0
      - LDPTR1 $2 0x7
      - LMAKE $2 $2
      - SETFLD $0 &0 $2
      - ORIGIN $2
      - SETFLD $0 &1 $2
      - ORIGIN $2
      - SETFLD $0 &2 $2
      - OBTAIN $2 &0
      - SETFLD $0 &3 $2
      - OBTAIN $2 &1
      - SETFLD $0 &4 $2
      - LDPTR1 $2 0xb
      - EVMAKE $0 $2 $0
      - LOGIC $2
      - ID $2 $2
      - EMIT $2 $0
      - DEST
      - CARGS $0
      - PMAKE $2 &5
      - OBTAIN $3 &0
      - OBTAIN $4 &1
      - SETFLD $0 &0 $2
      - SETFLD $0 &1 $3
      - SETFLD $0 &2 $4
      - CALLM $0 $1 &6 $0
    catches: []
- ptr: 18
  deps:
  - 8
  - 11
  kind: callable
  data:
    name: Release
    mode: static
    kind: invoke
    accepts:
    - slot: 0
      label: benefactor
      type: identifier
    - slot: 1
      label: beneficiary
      type: identifier
    - slot: 2
      label: amount
      type: u256
    returns: []
    executes:
      asm:
      - CARGS $0
      - ASSET $1
      - CALLM $0 $1 &17 $0
      - GETFLD $0 $0 &0
      - NOT $0 $0
      - LDPTR1 $2 0x18
      - JUMPI $2 $0
      - CARGS $0
      - LDPTR1 $2 0x8
      - LMAKE $2 $2
      - SETFLD $0 &0 $2
      - ORIGIN $2
      - SETFLD $0 &1 $2
      - OBTAIN $2 &0
      - SETFLD $0 &2 $2
      - OBTAIN $2 &1
      - SETFLD $0 &3 $2
      - OBTAIN $2 &2
      - SETFLD $0 &4 $2
      - LDPTR1 $2 0xb
      - EVMAKE $0 $2 $0
      - LOGIC $2
      - ID $2 $2
      - EMIT $2 $0
      - DEST
      - CARGS $0
      - PMAKE $2 &5
      - OBTAIN $3 &0
      - OBTAIN $4 &1
      - OBTAIN $5 &2
      - SETFLD $0 &0 $2
      - SETFLD $0 &1 $3
      - SETFLD $0 &2 $4
      - SETFLD $0 &3 $5
      - CALLM $0 $1 &7 $0
    catches: []
- ptr: 19
  deps:
  - 9
  - 11
  kind: callable
  data:
    name: Approve
    mode: static
    kind: invoke
    accepts:
    - slot: 0
      label: beneficiary
      type: identifier
    - slot: 1
      label: amount
      type: u256
    - slot: 2
      label: expires_at
      type: u64
    returns: []
    executes:
      asm:
      - CARGS $0
      - ASSET $1
      - CALLM $0 $1 &17 $0
      - GETFLD $0 $0 &0
      - NOT $0 $0
      - LDPTR1 $2 0x1a
      - JUMPI $2 $0
      - CARGS $0
      - LDPTR1 $2 0x9
      - LMAKE $2 $2
      - SETFLD $0 &0 $2
      - ORIGIN $2
      - SETFLD $0 &1 $2
      - ORIGIN $2
      - SETFLD $0 &2 $2
      - OBTAIN $2 &0
      - SETFLD $0 &3 $2
      - OBTAIN $2 &1
      - SETFLD $0 &4 $2
      - OBTAIN $2 &2
      - SETFLD $0 &5 $2
      - LDPTR1 $2 0xb
      - EVMAKE $0 $2 $0
      - LOGIC $2
      - ID $2 $2
      - EMIT $2 $0
      - DEST
      - CARGS $0
      - PMAKE $2 &5
      - OBTAIN $3 &0
      - OBTAIN $4 &1
      - OBTAIN $5 &2
      - SETFLD $0 &0 $2
      - SETFLD $0 &1 $3
      - SETFLD $0 &2 $4
      - SETFLD $0 &3 $5
      - CALLM $0 $1 &4 $0
    catches: []
- ptr: 20
  deps:
  - 10
  - 11
  kind: callable
  data:
    name: Revoke
    mode: static
    kind: invoke
    accepts:
    - slot: 0
      label: beneficiary
      type: identifier
    returns: []
    executes:
      asm:
      - CARGS $0
      - ASSET $1
      - CALLM $0 $1 &17 $0
      - GETFLD $0 $0 &0
      - NOT $0 $0
      - LDPTR1 $2 0x16
      - JUMPI $2 $0
      - CARGS $0
      - LDPTR1 $2 0xa
      - LMAKE $2 $2
      - SETFLD $0 &0 $2
      - ORIGIN $2
      - SETFLD $0 &1 $2
      - ORIGIN $2
      - SETFLD $0 &2 $2
      - OBTAIN $2 &0
      - SETFLD $0 &3 $2
      - LDPTR1 $2 0xb
      - EVMAKE $0 $2 $0
      - LOGIC $2
      - ID $2 $2
      - EMIT $2 $0
      - DEST
      - CARGS $0
      - PMAKE $2 &5
      - OBTAIN $3 &0
      - SETFLD $0 &0 $2
      - SETFLD $0 &1 $3
      - CALLM $0 $1 &5 $0
    catches: []
- ptr: 21
  kind: callable
  data:
    name: Symbol
    mode: static
    kind: invoke
    accepts: []
    returns:
    - slot: 0
      label: symbol
      type: string
    executes:
      asm:
      - CARGS $0
      - ASSET $1
      - CALLM $0 $1 &10 $0
      - GETFLD $0 $0 &0
      - YIELD $0 &0
    catches: []
- ptr: 22
  kind: callable
  data:
    name: BalanceOf
    mode: static
    kind: invoke
    accepts:
    - slot: 0
      label: address
      type: identifier
    returns:
    - slot: 0
      label: balance
      type: u256
    executes:
      asm:
      - CARGS $0
      - PMAKE $1 &5
      - OBTAIN $2 &0
      - SETFLD $0 &0 $1
      - SETFLD $0 &1 $2
      - ASSET $1
      - CALLM $0 $1 &11 $0
      - GETFLD $0 $0 &0
      - YIELD $0 &0
    catches: []
- ptr: 23
  kind: asset
  data:
    engine: 1.0.0
